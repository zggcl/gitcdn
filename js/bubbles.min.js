"use strict";function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function i(i,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(t,n,a){return n&&i(t.prototype,n),a&&i(t,a),t}}(),Bubble=function(){function i(t){_classCallCheck(this,i),this.userOpts={num:t?parseInt(t):10,radius_min:1,radius_max:2,radius_add_min:.3,radius_add_max:.5,opacity_min:.3,opacity_max:.5,opacity_prev_min:.003,opacity_prev_max:.005,light_min:40,light_max:70,is_same_color:!1},this.color=this.random(0,360),this.bubbleNum=[],this.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,this.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame,document.getElementById("myBubbles")||(this.createCanvas(),this.start())}return _createClass(i,[{key:"random",value:function(i,t){return Math.random()*(t-i)+i}},{key:"initBubble",value:function(i,t){var n=window.innerWidth,a=window.innerHeight,e=this.userOpts,s=this.random(e.light_min,e.light_max);this.bubble={x:this.random(0,n),y:this.random(0,a),radius:this.random(e.radius_min,e.radius_max),radiusChange:this.random(e.radius_add_min,e.radius_add_max),opacity:this.random(e.opacity_min,e.opacity_max),opacityChange:this.random(e.opacity_prev_min,e.opacity_prev_max),light:s,color:"hsl("+(t?i:this.random(0,360))+",100%,"+s+"%)"}}},{key:"bubbling",value:function(i,t,n){!this.bubble&&this.initBubble(t,n);var a=this.bubble;if(i.fillStyle=a.color,i.globalAlpha=a.opacity,i.beginPath(),i.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),i.closePath(),i.fill(),i.globalAlpha=1,a.opacity-=a.opacityChange,a.radius+=a.radiusChange,a.opacity<=0)return void this.initBubble(t,n)}},{key:"createCanvas",value:function(){var i=this;this.canvas=document.createElement("canvas"),this.canvas.id="myBubbles",this.canvas.style.display="block",this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.canvas.style.position="fixed",this.canvas.style.top="0",this.canvas.style.left="0",this.canvas.style.zIndex="-1",this.ctx=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),window.onresize=function(){i.canvas.width=window.innerWidth,i.canvas.height=window.innerHeight}}},{key:"start",value:function(){var t=this,n=window.innerWidth,a=window.innerHeight;this.color+=.1,this.ctx.fillStyle="#fff",this.ctx.fillRect(0,0,n,a),this.bubbleNum.length<this.userOpts.num&&this.bubbleNum.push(new i),this.bubbleNum.forEach(function(i){return i.bubbling(t.ctx,t.color,t.userOpts.is_same_color)});var e=this.requestAnimationFrame;this.myReq=e(function(){return t.start()})}},{key:"destory",value:function(){(0,this.cancelAnimationFrame)(this.myReq),window.onresize=null}}]),i}();
